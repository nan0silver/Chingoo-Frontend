# ì¹œêµ¬í•˜ì Frontend

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Frontend

- **React 18** - ëª¨ë˜ React ê¸°ëŠ¥ í™œìš©
- **TypeScript** - íƒ€ì… ì•ˆì „ì„± ë³´ì¥
- **Vite** - ë¹ ë¥¸ ê°œë°œ ì„œë²„ ë° ë¹Œë“œ
- **TailwindCSS 3** - ìœ í‹¸ë¦¬í‹° í¼ìŠ¤íŠ¸ CSS í”„ë ˆì„ì›Œí¬
- **React Router 6** - SPA ë¼ìš°íŒ…
- **React Query** - ì„œë²„ ìƒíƒœ ê´€ë¦¬ ë° API ìºì‹±
- **shadcn/ui** - ê³ í’ˆì§ˆ UI ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬

### Backend (ë³„ë„ í”„ë¡œì íŠ¸)

- **Spring Boot 3.x + WebFlux**
- **MySQL 8.0** (Aiven/AWS RDS)
- **Redis 7.0** (ìºì‹œ/í)
- **JWT + OAuth2** (Kakao, Google ì¸ì¦)
- **Java 17+**

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
client/                   # React SPA í”„ë¡ íŠ¸ì—”ë“œ
â”œâ”€â”€ pages/                # í˜ì´ì§€ ì»´í¬ë„ŒíŠ¸
â”‚   â”œâ”€â”€ Index.tsx         # í™ˆ í˜ì´ì§€
â”‚   â””â”€â”€ NotFound.tsx      # 404 í˜ì´ì§€
â”œâ”€â”€ components/ui/        # shadcn/ui ì»´í¬ë„ŒíŠ¸ ë¼ì´ë¸ŒëŸ¬ë¦¬
â”œâ”€â”€ hooks/                # ì»¤ìŠ¤í…€ React í›…
â”œâ”€â”€ lib/                  # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ App.tsx               # ì•± ì§„ì…ì  ë° ë¼ìš°íŒ… ì„¤ì •
â””â”€â”€ global.css            # TailwindCSS í…Œë§ˆ ë° ê¸€ë¡œë²Œ ìŠ¤íƒ€ì¼

shared/                   # í´ë¼ì´ì–¸íŠ¸-ì„œë²„ ê³µìœ  íƒ€ì…
â””â”€â”€ api.ts                # API ì¸í„°í˜ì´ìŠ¤ ì •ì˜
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- Node.js 18+
- pnpm (ê¶Œì¥) ë˜ëŠ” npm

### ì„¤ì¹˜ ë° ì‹¤í–‰

1. **ì˜ì¡´ì„± ì„¤ì¹˜**

   ```bash
   pnpm install
   ```

2. **ê°œë°œ ì„œë²„ ì‹¤í–‰**

   ```bash
   pnpm dev
   ```

3. **ë¸Œë¼ìš°ì €ì—ì„œ í™•ì¸**
   - ë©”ì¸ ì• í”Œë¦¬ì¼€ì´ì…˜: http://localhost:8080

### ê¸°íƒ€ ëª…ë ¹ì–´

```bash
# íƒ€ì… ì²´í¬
pnpm typecheck

# í…ŒìŠ¤íŠ¸ ì‹¤í–‰
pnpm test

# í”„ë¡œë•ì…˜ ë¹Œë“œ
pnpm build

# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰ (ì •ì  íŒŒì¼ ì„œë¹™)
pnpm start
```

## ğŸ“± iOS ë¹Œë“œ

### í•„ìˆ˜ ìš”êµ¬ì‚¬í•­

- macOS (XcodeëŠ” macOSì—ì„œë§Œ ì‹¤í–‰ ê°€ëŠ¥)
- Xcode 15.0 ì´ìƒ
- CocoaPods (`sudo gem install cocoapods`)
- Apple Developer ê³„ì • (ì‹¤ì œ ê¸°ê¸°ì— ë°°í¬í•˜ë ¤ë©´)

### iOS ë¹Œë“œ ë‹¨ê³„

1. **ì˜ì¡´ì„± ì„¤ì¹˜ ë° ë¹Œë“œ**

   ```bash
   # í”„ë¡œì íŠ¸ ì˜ì¡´ì„± ì„¤ì¹˜
   pnpm install

   # ì›¹ ì•± ë¹Œë“œ
   pnpm build
   ```

2. **Capacitor ë™ê¸°í™”**

   ```bash
   # iOS í”„ë¡œì íŠ¸ì— ì›¹ ë¹Œë“œ ê²°ê³¼ ë™ê¸°í™”
   pnpm ios:sync
   ```

3. **Xcodeì—ì„œ ì—´ê¸°**

   ```bash
   # Xcodeì—ì„œ iOS í”„ë¡œì íŠ¸ ì—´ê¸°
   pnpm ios:open
   ```

   ë˜ëŠ” ì§ì ‘ ì—´ê¸°:
   ```bash
   open ios/App/App.xcworkspace
   ```

4. **Xcodeì—ì„œ ì„¤ì • ë° ë¹Œë“œ**

   - Xcodeì—ì„œ í”„ë¡œì íŠ¸ë¥¼ ì—´ë©´ `App.xcworkspace` íŒŒì¼ì„ ì—´ì–´ì•¼ í•©ë‹ˆë‹¤ (`.xcodeproj`ê°€ ì•„ë‹˜)
   - **Signing & Capabilities** íƒ­ì—ì„œ:
     - Team: Apple Developer ê³„ì • ì„ íƒ
     - Bundle Identifier: `com.chingoohaja.app` (í•„ìš”ì‹œ ë³€ê²½)
   - ì‹œë®¬ë ˆì´í„° ë˜ëŠ” ì‹¤ì œ ê¸°ê¸° ì„ íƒ
   - **Product > Run** (âŒ˜R) ë˜ëŠ” ë¹Œë“œ ë²„íŠ¼ í´ë¦­

### iOS ë¹Œë“œ ìŠ¤í¬ë¦½íŠ¸

```bash
# ê°œë°œ ëª¨ë“œ (ë¼ì´ë¸Œ ë¦¬ë¡œë“œ)
pnpm ios:dev

# í”„ë¡œë•ì…˜ ë¹Œë“œ í›„ ì‹¤í–‰
pnpm ios:build

# Capacitor ë™ê¸°í™”ë§Œ (ë¹Œë“œ í›„ ë³€ê²½ì‚¬í•­ ë°˜ì˜)
pnpm ios:sync

# Xcodeì—ì„œ ì—´ê¸°
pnpm ios:open
```

### ì£¼ì˜ì‚¬í•­

- **CocoaPods ì„¤ì¹˜**: iOS ì˜ì¡´ì„± ê´€ë¦¬ë¥¼ ìœ„í•´ CocoaPodsê°€ í•„ìš”í•©ë‹ˆë‹¤
  ```bash
  sudo gem install cocoapods
  cd ios/App
  pod install
  ```

- **Info.plist ì„¤ì •**: í•„ìš”í•œ ê¶Œí•œ(ì¹´ë©”ë¼, ë§ˆì´í¬ ë“±)ì´ ìˆë‹¤ë©´ `ios/App/App/Info.plist`ì—ì„œ ì„¤ì •

- **Capacitor í”ŒëŸ¬ê·¸ì¸**: ìƒˆ í”ŒëŸ¬ê·¸ì¸ì„ ì¶”ê°€í•œ í›„ì—ëŠ” `pnpm ios:sync`ë¥¼ ì‹¤í–‰í•´ì•¼ í•©ë‹ˆë‹¤

### ë¬¸ì œ í•´ê²°

- **Pod ì„¤ì¹˜ ì˜¤ë¥˜**: `ios/App` ë””ë ‰í† ë¦¬ì—ì„œ `pod install` ì‹¤í–‰
- **ë¹Œë“œ ì˜¤ë¥˜**: Xcodeì—ì„œ Clean Build Folder (âŒ˜â‡§K) í›„ ë‹¤ì‹œ ë¹Œë“œ
- **ë™ê¸°í™” ë¬¸ì œ**: `rm -rf ios/App/App/public` í›„ `pnpm ios:sync` ì¬ì‹¤í–‰

## ğŸ”§ í™˜ê²½ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

`.env` íŒŒì¼ì—ì„œ ë‹¤ìŒ ë³€ìˆ˜ë“¤ì„ ì„¤ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

```env
# Spring Boot API ì„œë²„ URL (ì˜ˆì‹œ)
VITE_API_BASE_URL=http://localhost:8080/api

# ê¸°íƒ€ ê³µê°œ ë³€ìˆ˜ë“¤
VITE_APP_NAME=ë¡œê·¸ì¸ ì•±
```

## ğŸ“± ì£¼ìš” ê¸°ëŠ¥

### OAuth ì†Œì…œ ë¡œê·¸ì¸

- **ì¹´ì¹´ì˜¤ ë¡œê·¸ì¸**: ì¹´ì¹´ì˜¤ ê³„ì •ìœ¼ë¡œ ê°„í¸ ë¡œê·¸ì¸
- **êµ¬ê¸€ ë¡œê·¸ì¸**: êµ¬ê¸€ ê³„ì •ìœ¼ë¡œ ê°„í¸ ë¡œê·¸ì¸
- **PKCE ë³´ì•ˆ**: OAuth 2.0 PKCE ë°©ì‹ìœ¼ë¡œ ì•ˆì „í•œ ì¸ì¦
- **ìë™ ë¦¬ë‹¤ì´ë ‰íŠ¸**: ë¡œê·¸ì¸ ìƒíƒœì— ë”°ë¥¸ ìë™ í˜ì´ì§€ ì´ë™
- **í”„ë¡œí•„ ì„¤ì •**: ì‹ ê·œ ì‚¬ìš©ì í”„ë¡œí•„ ì™„ì„± í”Œë¡œìš°

### UI/UX íŠ¹ì§•

- ëª¨ë°”ì¼ ìƒíƒœë°” ì‹œë®¬ë ˆì´ì…˜ (ëª¨ë°”ì¼ ë·°)
- í•œêµ­ ì„œë¹„ìŠ¤ì— ìµœì í™”ëœ ë””ìì¸
- ì ‘ê·¼ì„±ì„ ê³ ë ¤í•œ ì»´í¬ë„ŒíŠ¸ ì„¤ê³„
- OAuth ì½œë°± ì²˜ë¦¬ ë° ë¡œë”© ìƒíƒœ í‘œì‹œ

## ğŸ”Œ Spring Boot ì—°ë™

### API ì—°ë™ ì„¤ì •

Spring Boot ì„œë²„ì™€ ì—°ë™í•˜ë ¤ë©´:

1. **CORS ì„¤ì •** (Spring Bootì—ì„œ)

   ```java
   @CrossOrigin(origins = "http://localhost:8080")
   ```

2. **API í˜¸ì¶œ ì„¤ì •** (Reactì—ì„œ)
   ```typescript
   const API_BASE_URL =
     import.meta.env.VITE_API_BASE_URL || "http://localhost:8080/api";
   ```

### OAuth ì†Œì…œ ë¡œê·¸ì¸ í”Œë¡œìš°

1. **OAuth ì„¤ì • ì¡°íšŒ**: `GET /api/v1/auth/oauth/{provider}/config`
2. **ì†Œì…œ ë¡œê·¸ì¸ ì‹œì‘**: ì‚¬ìš©ìê°€ ì†Œì…œ ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­
3. **ì¸ì¦ í˜ì´ì§€ ë¦¬ë‹¤ì´ë ‰íŠ¸**: ì¹´ì¹´ì˜¤/êµ¬ê¸€ ì¸ì¦ í˜ì´ì§€ë¡œ ì´ë™
4. **ì½œë°± ì²˜ë¦¬**: `POST /api/v1/auth/oauth/{provider}`ë¡œ ì¸ê°€ ì½”ë“œ ì „ì†¡
5. **í† í° ì €ì¥**:
   - Access Tokenì€ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥ (XSS ê³µê²© ë°©ì–´)
   - Refresh Tokenì€ HttpOnly ì¿ í‚¤ë¡œ ì„œë²„ì—ì„œ ê´€ë¦¬
6. **í˜ì´ì§€ ì´ë™**: ì‚¬ìš©ì ìƒíƒœì— ë”°ë¼ í”„ë¡œí•„ ì„¤ì • ë˜ëŠ” ëŒ€ì‹œë³´ë“œë¡œ ì´ë™

### ë³´ì•ˆ íŠ¹ì§•

- **ë©”ëª¨ë¦¬ ê¸°ë°˜ í† í° ê´€ë¦¬**: Access Tokenì„ ë©”ëª¨ë¦¬ì—ë§Œ ì €ì¥í•˜ì—¬ XSS ê³µê²© ë°©ì–´
- **ìë™ í† í° ì¬ë°œê¸‰**: ì•± ë¶€íŒ… ì‹œ refresh tokenìœ¼ë¡œ access token ìë™ ì¬ë°œê¸‰
- **API ì¸í„°ì…‰í„°**: 401 ì—ëŸ¬ ì‹œ ìë™ìœ¼ë¡œ í† í° ê°±ì‹  í›„ ì¬ì‹œë„
- **PKCE (Proof Key for Code Exchange)**: OAuth 2.0 ë³´ì•ˆ ê°•í™”
- **State ê²€ì¦**: CSRF ê³µê²© ë°©ì§€
- **SessionStorage í™œìš©**: ì„ì‹œ OAuth ë°ì´í„° ë³´ì•ˆ ì €ì¥
- **HttpOnly ì¿ í‚¤**: Refresh Tokenì„ XSS/CSRFë¡œë¶€í„° ì•ˆì „í•˜ê²Œ ë³´í˜¸
- **í™˜ê²½ë³„ ë¡œê¹… ì •ì±…**:
  - ê°œë°œ í™˜ê²½: ìƒì„¸ ë””ë²„ê¹… ë¡œê·¸ ì¶œë ¥
  - í”„ë¡œë•ì…˜: ë¯¼ê°í•œ ì •ë³´(í† í°, App ID, ì±„ë„ëª… ë“±) ë¡œê·¸ ì œê±°

## ğŸš€ ë°°í¬

### í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬

- **Netlify/Vercel**: ìë™ ë°°í¬ ì§€ì›
- **ì •ì  í˜¸ìŠ¤íŒ…**: ë¹Œë“œëœ SPA íŒŒì¼ ë°°í¬

### ë°±ì—”ë“œ ì—°ë™

- Spring Boot ì„œë²„ë¥¼ ë³„ë„ë¡œ ë°°í¬
- í™˜ê²½ ë³€ìˆ˜ë¡œ API ì„œë²„ URL ì„¤ì •

## ğŸ“ ê°œë°œ ê°€ì´ë“œ

### ìƒˆ í˜ì´ì§€ ì¶”ê°€

1. `client/pages/`ì— ì»´í¬ë„ŒíŠ¸ ìƒì„±
2. `client/App.tsx`ì— ë¼ìš°íŠ¸ ì¶”ê°€

### API í˜¸ì¶œ ì˜ˆì‹œ

```typescript
// React Query ì‚¬ìš©
const { data, isLoading } = useQuery({
  queryKey: ["user"],
  queryFn: () => fetch("/api/user").then((res) => res.json()),
});
```

### ì»´í¬ë„ŒíŠ¸ ì‚¬ìš©

```typescript
import { Button } from "@/components/ui/button";
import { Input } from "@/components/ui/input";
```
